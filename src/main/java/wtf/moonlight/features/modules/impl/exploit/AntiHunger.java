/*
 * MoonLight Hacked Client
 *
 * A free and open-source hacked client for Minecraft.
 * Developed using Minecraft's resources.
 *
 * Repository: https://github.com/randomguy3725/MoonLight
 *
 * Author(s): [Randumbguy & wxdbie & opZywl & MukjepScarlet & lucas & eonian]
 */
package wtf.moonlight.features.modules.impl.exploit;

import net.minecraft.entity.EntityFlying;
import wtf.moonlight.events.annotations.EventTarget;
import wtf.moonlight.events.impl.packet.PacketEvent;
import wtf.moonlight.features.modules.Module;
import wtf.moonlight.features.modules.ModuleCategory;
import wtf.moonlight.features.modules.ModuleInfo;
import wtf.moonlight.features.values.impl.BoolValue;

@ModuleInfo(name = "AntiHunger", category = ModuleCategory.Exploit)
public class AntiHunger extends Module {
    public final BoolValue noSprint = new BoolValue("No Sprint", true, this);
    public final BoolValue shouldFloat = new BoolValue("Float", true, this);

    @EventTarget
    public void onPacket(PacketEvent packetEvent) {
        if (packetEvent.getPacket() instanceof EntityFlying packet) {
            if (packet.onGround && mc.thePlayer.onGround &&  shouldFloat.get()) {
                packet.onGround = false;
            }
        }

        if (noSprint.get() && mc.thePlayer.isSprinting()) {
            mc.thePlayer.serverSprintState = false;
        }
    }
}
